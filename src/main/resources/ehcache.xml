<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE xml>
<config xmlns='http://www.ehcache.org/v3' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
 xmlns:jsr107='http://www.ehcache.org/v3/jsr107'>
  <service>
	<jsr107:defaults enable-management="true" enable-statistics="true" />
  </service>

  <!-- File persistance enabling -->
  <!--
  <persistence directory='./cache'></persistence>
  -->

  <!-- The caches we will create -->
  <cache alias='companyCache' uses-template='default-cache' />
  <cache alias='usernameCache' uses-template='default-cache' />

  <!-- The config cache tenplate -->
  <cache-template name='default-cache'>
	<expiry>
	  <ttl unit="seconds">30</ttl>
	</expiry>

	<listeners>
	  <listener>
		<!-- The the main cache event listener -->
		<class>ga.hunterdo.barcodeparking.config.CacheEventLogger</class>
		<event-firing-mode>ASYNCHRONOUS</event-firing-mode>
		<event-ordering-mode>UNORDERED</event-ordering-mode>
		<events-to-fire-on>CREATED</events-to-fire-on>
		<events-to-fire-on>UPDATED</events-to-fire-on>
		<events-to-fire-on>EXPIRED</events-to-fire-on>
		<events-to-fire-on>REMOVED</events-to-fire-on>
		<events-to-fire-on>EVICTED</events-to-fire-on>
	  </listener>
	</listeners>

	<resources>
	  <heap unit='entries'>300</heap>
	  <!--
	  <offheap unit='MB'>10</offheap>
	  <disk persistent='false' unit='MB'>20</disk>
	  -->
	</resources>
  </cache-template>
</config>